{% extends "layout.html" %}

{% block title %}Guia do Usuário - Mauricio PDQ ERP{% endblock %}

{% block content %}
<div class="container">
    <h1 class="mb-4">Guia do Usuário - Sistema ERP Mauricio PDQ</h1>
    
    <!-- New Latest Changes Alert -->
    <div class="alert alert-danger mb-4">
        <h4><i class="fas fa-bell"></i> Novidades - Abril 2025</h4>
        <p><strong>Novas funcionalidades importantes foram adicionadas ao sistema:</strong></p>
        <ul>
            <li><strong>Backup e Restauração do Banco de Dados:</strong> Agora é possível fazer backup e restaurar o banco de dados diretamente do painel, garantindo a segurança dos seus dados</li>
            <li><strong>Sistema de Feedback Simples:</strong> Botão para enviar sugestões e necessidades diretamente para a equipe de desenvolvimento</li>
            <li><strong>Bônus de Sábado ($5/hora):</strong> Pagamento adicional de $5 por hora para trabalho realizado aos sábados, exibido automaticamente na folha de ponto</li>
            <li><strong>Edição de Folha de Ponto:</strong> Agora é possível editar registros existentes na folha de ponto, mantendo associações com projetos mesmo após sua conclusão</li>
            <li><strong>Horas sem Projeto:</strong> Nova opção para registrar horas de trabalho sem associação a projetos específicos</li>
            <li><strong>Exclusão de Projetos:</strong> Funcionalidade aprimorada para excluir projetos com confirmação e exclusão em cascata de registros associados</li>
        </ul>
        <p>Confira as seções relevantes deste guia para mais detalhes sobre essas e outras melhorias.</p>
    </div>
    
    <div class="row mb-5">
        <div class="col-md-3">
            <div class="list-group sticky-top" style="top: 20px;">
                <a class="list-group-item list-group-item-action bg-danger text-white" href="#novidades">Últimas Novidades</a>
                <a class="list-group-item list-group-item-action" href="#introducao">Introdução</a>
                <a class="list-group-item list-group-item-action bg-info text-white" href="#fluxodetrabalho">Fluxo de Trabalho Recomendado</a>
                <a class="list-group-item list-group-item-action" href="#funcionarios">Gerenciamento de Funcionários</a>
                <a class="list-group-item list-group-item-action" href="#projetos">Projetos</a>
                <a class="list-group-item list-group-item-action" href="#folhaponto">Folha de Ponto</a>
                <a class="list-group-item list-group-item-action" href="#folhapagamento">Folha de Pagamento</a>
                <a class="list-group-item list-group-item-action" href="#materiais">Materiais</a>
                <a class="list-group-item list-group-item-action" href="#despesas">Despesas</a>
                <a class="list-group-item list-group-item-action" href="#faturas">Faturas</a>
                <a class="list-group-item list-group-item-action bg-success text-white" href="#financeiro">Sistema Financeiro</a>
                <a class="list-group-item list-group-item-action" href="#relatorios">Relatórios</a>
                <a class="list-group-item list-group-item-action bg-dark text-white" href="#administracao">Administração do Sistema</a>
                <a class="list-group-item list-group-item-action" href="#implementacoesfuturas">Implementações Futuras</a>
            </div>
        </div>
        
        <div class="col-md-9">
            <!-- New Latest Changes Section -->
            <div class="card mb-4" id="novidades">
                <div class="card-header bg-danger text-white">
                    <h2 class="card-title h4 mb-0">Últimas Novidades (Abril 2025)</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5 mb-3">Backup e Restauração do Banco de Dados</h3>
                    <p>Nova funcionalidade para proteger seus dados e permitir recuperação em caso de problemas:</p>
                    <ul>
                        <li><strong>Onde encontrar:</strong> No final da página do Dashboard</li>
                        <li><strong>Como usar - Backup:</strong>
                            <ol>
                                <li>Clique no botão "Download Backup" na seção "Backup Database"</li>
                                <li>Um arquivo .db será baixado contendo todos os seus dados</li>
                                <li>Guarde este arquivo em local seguro para uso futuro</li>
                            </ol>
                        </li>
                        <li><strong>Como usar - Restauração:</strong>
                            <ol>
                                <li>Na seção "Restore Database", clique em "Selecionar arquivo"</li>
                                <li>Escolha um arquivo de backup (.db) previamente salvo</li>
                                <li>Clique em "Restore Database" e confirme a ação</li>
                                <li>Seu banco de dados será restaurado para o estado do backup</li>
                            </ol>
                        </li>
                        <li><strong>Recomendações:</strong> Faça backup regularmente e especialmente antes de fazer grandes alterações nos dados</li>
                    </ul>
                    
                    <h3 class="h5 mb-3 mt-4">Sistema de Feedback Simples</h3>
                    <p>Um novo sistema de feedback foi implementado para facilitar a comunicação de necessidades e sugestões:</p>
                    <ul>
                        <li>Um botão "Feedback" está disponível no canto inferior direito de todas as páginas do sistema</li>
                        <li>Clique no botão para abrir uma janela simples onde você pode digitar suas sugestões ou necessidades</li>
                        <li>Suas sugestões são enviadas diretamente para a equipe de desenvolvimento</li>
                        <li>Use esta funcionalidade para solicitar novos recursos, relatar problemas ou sugerir melhorias</li>
                        <li>Não há limite para a quantidade de feedback que você pode enviar</li>
                    </ul>

                    <h3 class="h5 mb-3 mt-4">Bônus de Sábado (+$5/hora)</h3>
                    <p>Uma nova funcionalidade de bônus para trabalho aos sábados foi implementada:</p>
                    <ul>
                        <li>Funcionários que trabalham aos sábados recebem automaticamente um adicional de $5,00 por hora</li>
                        <li>O sistema identifica automaticamente datas de sábado na folha de ponto</li>
                        <li>Na listagem de horas trabalhadas, os registros de sábado são marcados com o selo "Sat"</li>
                        <li>A taxa horária efetiva (taxa normal + bônus) é exibida claramente na interface</li>
                        <li>O cálculo da folha de pagamento incorpora automaticamente este bônus</li>
                    </ul>

                    <h3 class="h5 mb-3 mt-4">Edição de Folha de Ponto</h3>
                    <p>A funcionalidade de edição de folha de ponto foi aprimorada:</p>
                    <ul>
                        <li>Possibilidade de editar entradas existentes na folha de ponto</li>
                        <li>Seleção inteligente de projetos que mantém projetos associados mesmo quando concluídos</li>
                        <li>Interface visual clara mostrando o status de cada projeto durante a edição</li>
                        <li>Prevenção de registros órfãos ao modificar dados da folha de ponto</li>
                    </ul>

                    <h3 class="h5 mb-3 mt-4">Registro de Horas sem Projeto</h3>
                    <p>Nova opção para registrar horas trabalhadas sem associá-las a um projeto específico:</p>
                    <ul>
                        <li>Opção "Nenhum - Sem Projeto" disponível no menu suspenso de projetos</li>
                        <li>Útil para registrar tempo administrativo, treinamento ou outras atividades não relacionadas a projetos</li>
                        <li>Estes registros são contabilizados normalmente para cálculo de folha de pagamento</li>
                    </ul>

                    <h3 class="h5 mb-3 mt-4">Exclusão de Projetos com Segurança</h3>
                    <p>Funcionalidade aperfeiçoada para exclusão de projetos:</p>
                    <ul>
                        <li>Diálogo de confirmação para prevenir exclusões acidentais</li>
                        <li>Exclusão em cascata que gerencia automaticamente todos os registros associados (folhas de ponto, materiais, despesas)</li>
                        <li>Informações claras sobre o impacto da exclusão antes da confirmação</li>
                    </ul>
                </div>
            </div>
            
            <div class="card mb-4" id="introducao">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Introdução ao Sistema</h2>
                </div>
                <div class="card-body">
                    <p>Bem-vindo ao Sistema ERP Mauricio PDQ, uma solução completa desenvolvida especificamente para Mauricio PDQ Paint & Drywall. Este sistema foi projetado para facilitar o gerenciamento das operações diárias da empresa, incluindo:</p>
                    
                    <ul>
                        <li>Gerenciamento de funcionários</li>
                        <li>Controle de projetos</li>
                        <li>Registro de tempo de trabalho</li>
                        <li>Folha de pagamento</li>
                        <li>Controle de materiais</li>
                        <li>Gerenciamento de despesas</li>
                        <li>Faturamento</li>
                        <li>Sistema de Gestão Financeira</li>
                        <li>Análise financeira</li>
                    </ul>
                    
                    <p>Este guia fornece instruções detalhadas sobre como utilizar cada recurso do sistema.</p>
                </div>
            </div>
            
            <div class="card mb-4" id="fluxodetrabalho">
                <div class="card-header bg-info text-white">
                    <h2 class="card-title h4 mb-0">Fluxo de Trabalho Recomendado</h2>
                </div>
                <div class="card-body">
                    <p>Para garantir que o sistema ERP seja utilizado de maneira eficiente, recomendamos seguir a sequência de inserção de dados abaixo:</p>
                    
                    <div class="row mb-4">
                        <div class="col-12">
                            <div class="alert alert-primary">
                                <strong>Dica:</strong> Seguir este fluxo de trabalho ajudará a manter a integridade dos dados e facilitará o rastreamento financeiro de projetos e custos.
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-12">
                            <div class="timeline-steps">
                                <div class="timeline-step">
                                    <div class="timeline-content" data-toggle="popover" data-trigger="hover" data-placement="top" title="" data-content="" data-original-title="1">
                                        <div class="inner-circle bg-primary"><span class="text-white">1</span></div>
                                        <h5 class="mt-3">Configuração Inicial</h5>
                                        <ul class="list-unstyled small text-muted">
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Cadastrar funcionários</li>
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Configurar taxas de pagamento</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="timeline-step">
                                    <div class="timeline-content" data-toggle="popover" data-trigger="hover" data-placement="top" title="" data-content="" data-original-title="2">
                                        <div class="inner-circle bg-primary"><span class="text-white">2</span></div>
                                        <h5 class="mt-3">Criar Projetos</h5>
                                        <ul class="list-unstyled small text-muted">
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Adicionar informações do cliente</li>
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Definir escopo e local do projeto</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="timeline-step">
                                    <div class="timeline-content" data-toggle="popover" data-trigger="hover" data-placement="top" title="" data-content="" data-original-title="3">
                                        <div class="inner-circle bg-primary"><span class="text-white">3</span></div>
                                        <h5 class="mt-3">Registros Diários</h5>
                                        <ul class="list-unstyled small text-muted">
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Registrar horas trabalhadas</li>
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Adicionar materiais utilizados</li>
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Registrar despesas do projeto</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="timeline-step">
                                    <div class="timeline-content" data-toggle="popover" data-trigger="hover" data-placement="top" title="" data-content="" data-original-title="4">
                                        <div class="inner-circle bg-primary"><span class="text-white">4</span></div>
                                        <h5 class="mt-3">Gestão Financeira</h5>
                                        <ul class="list-unstyled small text-muted">
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Processar folha de pagamento</li>
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Gerar faturas para clientes</li>
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Imprimir PDFs personalizados</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="timeline-step mb-0">
                                    <div class="timeline-content" data-toggle="popover" data-trigger="hover" data-placement="top" title="" data-content="" data-original-title="5">
                                        <div class="inner-circle bg-primary"><span class="text-white">5</span></div>
                                        <h5 class="mt-3">Análise e Relatórios</h5>
                                        <ul class="list-unstyled small text-muted">
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Gerar relatórios financeiros</li>
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Analisar lucratividade</li>
                                            <li><i class="fas fa-chevron-right me-2 text-primary"></i>Tomar decisões baseadas em dados</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-5">
                        <h4>Fluxo de Trabalho Detalhado</h4>
                        
                        <div class="accordion" id="workflowAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingOne">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                        <i class="fas fa-user-plus me-2"></i> Etapa 1: Configuração Inicial
                                    </button>
                                </h2>
                                <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#workflowAccordion">
                                    <div class="accordion-body">
                                        <p>Comece configurando todos os funcionários no sistema antes de criar projetos ou registrar horas:</p>
                                        <ol>
                                            <li>Acesse <strong>Employees > Add Employee</strong> para adicionar cada funcionário</li>
                                            <li>Certifique-se de configurar a taxa horária correta para cada funcionário</li>
                                            <li>Verifique a lista de funcionários em <strong>Employees > All Employees</strong></li>
                                        </ol>
                                        <div class="alert alert-warning">
                                            <i class="fas fa-exclamation-triangle"></i> <strong>Importante:</strong> A correta configuração dos funcionários é essencial para cálculos precisos de folha de pagamento mais tarde.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingTwo">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                        <i class="fas fa-project-diagram me-2"></i> Etapa 2: Criar Projetos
                                    </button>
                                </h2>
                                <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#workflowAccordion">
                                    <div class="accordion-body">
                                        <p>Crie projetos para cada trabalho antes de começar a registrar horas ou materiais:</p>
                                        <ol>
                                            <li>Acesse <strong>Projects > Add Project</strong> para criar um novo projeto</li>
                                            <li>Preencha todos os detalhes do cliente e informações do local</li>
                                            <li>Descreva claramente o escopo do trabalho no campo descrição</li>
                                            <li>Defina o status inicial do projeto (geralmente "Em Andamento")</li>
                                        </ol>
                                        <div class="alert alert-info">
                                            <i class="fas fa-info-circle"></i> <strong>Dica:</strong> Uma descrição clara e detalhada do escopo aparecerá nas faturas geradas posteriormente.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingThree">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                        <i class="fas fa-calendar-day me-2"></i> Etapa 3: Registros Diários
                                    </button>
                                </h2>
                                <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#workflowAccordion">
                                    <div class="accordion-body">
                                        <p>Diariamente, registre as atividades relacionadas aos projetos:</p>
                                        <h6>Registro de Horas:</h6>
                                        <ol>
                                            <li>Acesse <strong>Timesheets > Add Timesheet</strong></li>
                                            <li>Selecione o funcionário e o projeto</li>
                                            <li>Registre as horas trabalhadas e o intervalo de almoço</li>
                                        </ol>
                                        
                                        <h6>Registro de Materiais:</h6>
                                        <ol>
                                            <li>Acesse <strong>Projects > Add Material</strong></li>
                                            <li>Selecione o projeto e registre os materiais utilizados</li>
                                            <li>Inclua custos precisos para cálculos de lucratividade</li>
                                        </ol>
                                        
                                        <h6>Registro de Despesas:</h6>
                                        <ol>
                                            <li>Acesse <strong>Financials > Add Expense</strong></li>
                                            <li>Associe a despesa ao projeto relevante</li>
                                            <li>Categorize a despesa adequadamente</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFour">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                        <i class="fas fa-dollar-sign me-2"></i> Etapa 4: Gestão Financeira
                                    </button>
                                </h2>
                                <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#workflowAccordion">
                                    <div class="accordion-body">
                                        <p>Processe pagamentos e faturas com base nos registros anteriores:</p>
                                        
                                        <h6>Folha de Pagamento:</h6>
                                        <ol>
                                            <li>Acesse <strong>Payroll > Payroll Report</strong></li>
                                            <li>Selecione o período de pagamento desejado</li>
                                            <li>Revise as horas registradas para todos os funcionários</li>
                                            <li>Clique em <strong>Record Payment</strong> para cada funcionário</li>
                                            <li>Adicione deduções se necessário (impostos, adiantamentos, etc.)</li>
                                        </ol>
                                        
                                        <h6>Gestão de Contas a Pagar:</h6>
                                        <ol>
                                            <li>Acesse <strong>Financial > Accounts Payable > Add</strong></li>
                                            <li>Registre as contas a pagar com fornecedor, valor e data de vencimento</li>
                                            <li>Acompanhe o status (pendente, pago, vencido) na lista de contas</li>
                                        </ol>
                                        
                                        <h6>Registro de Despesas Mensais:</h6>
                                        <ol>
                                            <li>Acesse <strong>Financial > Monthly Expenses > Add</strong></li>
                                            <li>Categorize as despesas mensais (aluguel, serviços, etc.)</li>
                                            <li>Vincule a um projeto quando aplicável</li>
                                        </ol>
                                        
                                        <h6>Contas Pagas:</h6>
                                        <ol>
                                            <li>Acesse <strong>Financial > Paid Accounts > Add</strong></li>
                                            <li>Registre pagamentos realizados aos fornecedores</li>
                                            <li>Inclua informações de método de pagamento e dados bancários</li>
                                        </ol>
                                        
                                        <h6>Faturamento:</h6>
                                        <ol>
                                            <li>Acesse <strong>Financials > Add Invoice</strong></li>
                                            <li>Selecione o projeto concluído ou em fase de faturamento</li>
                                            <li>Verifique os detalhes da fatura e o valor</li>
                                            <li>Salve a fatura e então use <strong>Print</strong> para gerar um PDF profissional</li>
                                        </ol>
                                        
                                        <div class="alert alert-success">
                                            <i class="fas fa-check-circle"></i> <strong>Recomendação:</strong> Sempre gere o PDF da fatura usando o botão Print para ter um documento profissional para enviar aos clientes.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="accordion-item">
                                <h2 class="accordion-header" id="headingFive">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                        <i class="fas fa-chart-line me-2"></i> Etapa 5: Análise e Relatórios
                                    </button>
                                </h2>
                                <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#workflowAccordion">
                                    <div class="accordion-body">
                                        <p>Analise o desempenho do negócio e dos projetos:</p>
                                        <ol>
                                            <li>Acesse o <strong>Dashboard</strong> para uma visão geral rápida</li>
                                            <li>Revise <strong>Projects > All Projects</strong> para análise de rentabilidade por projeto</li>
                                            <li>Utilize <strong>Financials > Financial Report</strong> para análises detalhadas</li>
                                            <li>Compare custos de mão de obra e materiais com valores faturados</li>
                                            <li>Identifique projetos mais lucrativos e áreas para melhoria</li>
                                        </ol>
                                        <div class="alert alert-primary">
                                            <i class="fas fa-lightbulb"></i> <strong>Melhor prática:</strong> Revise os relatórios financeiros semanalmente para identificar rapidamente tendências ou problemas.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card mb-4" id="funcionarios">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Gerenciamento de Funcionários</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5">Como adicionar um novo funcionário:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Payroll</strong> e selecione <strong>Employees</strong></li>
                        <li>Clique no botão <strong>Add New Employee</strong></li>
                        <li>Preencha todos os campos obrigatórios (Nome, Telefone, Taxa horária)</li>
                        <li>Selecione o status do funcionário (Ativo ou Inativo)</li>
                        <li>Clique em <strong>Save</strong> para adicionar o funcionário ao sistema</li>
                    </ol>
                    
                    <h3 class="h5">Como editar informações de funcionários:</h3>
                    <ol>
                        <li>Na lista de funcionários, localize o funcionário desejado</li>
                        <li>Clique no botão <strong>Edit</strong> ao lado do nome do funcionário</li>
                        <li>Atualize as informações necessárias</li>
                        <li>Clique em <strong>Save</strong> para salvar as alterações</li>
                    </ol>
                    
                    <h3 class="h5">Como inativar um funcionário:</h3>
                    <ol>
                        <li>Edite o funcionário conforme as instruções acima</li>
                        <li>Altere o status para <strong>Inactive</strong></li>
                        <li>Clique em <strong>Save</strong> para confirmar a alteração</li>
                        <li>Funcionários inativos não aparecerão nas listas de seleção para novas entradas</li>
                    </ol>
                </div>
            </div>
            
            <div class="card mb-4" id="projetos">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Projetos</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5">Como adicionar um novo projeto:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Projects</strong> e selecione <strong>All Projects</strong></li>
                        <li>Clique no botão <strong>Add New Project</strong></li>
                        <li>Preencha os detalhes do projeto, incluindo nome do cliente, endereço e descrição</li>
                        <li>Defina as datas de início e término previstas</li>
                        <li>Selecione o status do projeto (Em andamento, Completo, etc.)</li>
                        <li>Clique em <strong>Save</strong> para adicionar o projeto</li>
                    </ol>
                    
                    <h3 class="h5">Como visualizar detalhes de um projeto:</h3>
                    <ol>
                        <li>Na lista de projetos, encontre o projeto desejado</li>
                        <li>Clique no nome do projeto ou no botão <strong>View</strong></li>
                        <li>A página de detalhes mostrará todas as informações relacionadas, incluindo:</li>
                        <ul>
                            <li>Informações gerais do projeto</li>
                            <li>Materiais associados</li>
                            <li>Horas de trabalho registradas</li>
                            <li>Despesas</li>
                            <li>Faturamento</li>
                            <li>Análise de lucratividade</li>
                        </ul>
                    </ol>
                    
                    <h3 class="h5">Como atualizar o status de um projeto:</h3>
                    <ol>
                        <li>Acesse os detalhes do projeto conforme descrito acima</li>
                        <li>Clique no botão <strong>Edit</strong></li>
                        <li>Atualize o status do projeto conforme necessário</li>
                        <li>Clique em <strong>Save</strong> para confirmar as alterações</li>
                    </ol>
                </div>
            </div>
            
            <div class="card mb-4" id="folhaponto">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Folha de Ponto</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5">Como registrar horas trabalhadas:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Payroll</strong> e selecione <strong>Add Timesheet Entry</strong></li>
                        <li>Selecione o funcionário, projeto e data</li>
                        <li>Insira os horários de início e término do trabalho</li>
                        <li>Se aplicável, insira os horários de início e término do almoço</li>
                        <li>O sistema calculará automaticamente o total de horas trabalhadas</li>
                        <li>Clique em <strong>Save</strong> para registrar as horas</li>
                    </ol>
                    
                    <h3 class="h5">Como visualizar registros de ponto:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Payroll</strong> e selecione <strong>Timesheets</strong></li>
                        <li>A página exibirá todos os registros de ponto em ordem cronológica</li>
                        <li>Use os filtros disponíveis para localizar registros específicos por funcionário, projeto ou data</li>
                    </ol>
                    
                    <div class="alert alert-info">
                        <strong>Dica:</strong> O sistema calcula automaticamente o intervalo de almoço e subtrai do tempo total trabalhado.
                    </div>
                </div>
            </div>
            
            <div class="card mb-4" id="folhapagamento">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Folha de Pagamento</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5">Como usar o novo recurso de busca por funcionário:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Payroll</strong> e selecione <strong>Payroll Report</strong></li>
                        <li>Utilize o menu dropdown para selecionar um funcionário específico</li>
                        <li>O sistema exibirá automaticamente:
                            <ul>
                                <li>Resumo de informações do funcionário (taxa de pagamento, status)</li>
                                <li>Histórico de pagamentos recentes</li>
                                <li>Entradas recentes de folha de ponto</li>
                                <li>Total de horas trabalhadas e valores pagos</li>
                            </ul>
                        </li>
                        <li>Use o botão <strong>Clear</strong> para voltar à visualização completa do relatório</li>
                    </ol>
                    
                    <h3 class="h5">Como registrar um pagamento:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Payroll</strong> e selecione <strong>Record Payment</strong></li>
                        <li>Selecione o funcionário e preencha as informações de pagamento</li>
                        <li>Adicione as deduções aplicáveis (impostos, seguro, adiantamentos, etc.)</li>
                        <li>O sistema calculará automaticamente o valor líquido</li>
                        <li>Selecione o método de pagamento (dinheiro ou cheque)</li>
                        <li>Se for por cheque, preencha o número do cheque e o nome do banco</li>
                        <li>Clique em <strong>Save</strong> para registrar o pagamento</li>
                    </ol>
                    
                    <h3 class="h5">Como gerar relatórios de folha de pagamento:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Payroll</strong> e selecione <strong>Payroll Report</strong></li>
                        <li>O relatório exibirá todos os pagamentos registrados em ordem cronológica</li>
                        <li>Utilize a funcionalidade de busca por funcionário para filtrar por pessoa específica</li>
                        <li>Visualize os totais calculados por método de pagamento</li>
                    </ol>
                </div>
            </div>
            
            <div class="card mb-4" id="materiais">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Materiais</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5">Como registrar materiais utilizados:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Projects</strong> e selecione <strong>Add Material</strong></li>
                        <li>Selecione o projeto associado ao material</li>
                        <li>Insira a descrição do material, quantidade e custo</li>
                        <li>Adicione informações sobre o fornecedor, se disponíveis</li>
                        <li>Clique em <strong>Save</strong> para registrar o material</li>
                    </ol>
                    
                    <h3 class="h5">Como visualizar registros de materiais:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Projects</strong> e selecione <strong>Materials Log</strong></li>
                        <li>A página exibirá todos os materiais registrados</li>
                        <li>Utilize os filtros para localizar materiais específicos por projeto ou data</li>
                    </ol>
                </div>
            </div>
            
            <div class="card mb-4" id="despesas">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Despesas</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5">Como registrar despesas:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Financials</strong> e selecione <strong>Add Expense</strong></li>
                        <li>Selecione o projeto associado, se aplicável (opcional)</li>
                        <li>Descreva a despesa e insira o valor</li>
                        <li>Selecione a categoria e o método de pagamento</li>
                        <li>Adicione notas adicionais, se necessário</li>
                        <li>Clique em <strong>Save</strong> para registrar a despesa</li>
                    </ol>
                    
                    <h3 class="h5">Como visualizar despesas:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Financials</strong> e selecione <strong>Expenses</strong></li>
                        <li>A página exibirá todas as despesas registradas</li>
                        <li>Utilize os filtros para localizar despesas específicas por projeto, categoria ou data</li>
                    </ol>
                </div>
            </div>
            
            <div class="card mb-4" id="faturas">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Faturas</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5">Como criar uma fatura:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Financials</strong> e selecione <strong>Add Invoice</strong></li>
                        <li>Selecione o projeto para o qual está gerando a fatura</li>
                        <li>O sistema preencherá automaticamente as informações do cliente</li>
                        <li>Insira a descrição dos serviços, valor e data de vencimento</li>
                        <li>Clique em <strong>Save</strong> para criar a fatura</li>
                    </ol>
                    
                    <h3 class="h5">Como gerar PDF de fatura personalizado:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Financials</strong> e selecione <strong>Invoices</strong></li>
                        <li>Localize a fatura desejada na lista</li>
                        <li>Clique no botão <strong>Print</strong> ao lado da fatura</li>
                        <li>O sistema gerará automaticamente um PDF profissional com o layout personalizado da empresa</li>
                        <li>O arquivo PDF será baixado automaticamente para seu computador</li>
                        <li>Abra o PDF para visualizar a fatura formatada profissionalmente com todas as informações do projeto</li>
                    </ol>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i> <strong>Novo recurso:</strong> O PDF de fatura agora inclui um design moderno e profissional com seções bem organizadas para informações do cliente, escopo do projeto e precificação. O documento também inclui a assinatura do contratante pré-preenchida e a data atual.
                    </div>
                    
                    <h3 class="h5">Como gerenciar faturas:</h3>
                    <ol>
                        <li>Acesse o menu <strong>Financials</strong> e selecione <strong>Invoices</strong></li>
                        <li>A página exibirá todas as faturas com status de pagamento</li>
                        <li>Para registrar o pagamento de uma fatura, clique no botão <strong>Mark as Paid</strong></li>
                        <li>Insira a data e informações de pagamento quando solicitado</li>
                    </ol>
                </div>
            </div>
            
            <div class="card mb-4" id="financeiro">
                <div class="card-header bg-success text-white">
                    <h2 class="card-title h4 mb-0">Sistema de Gestão Financeira</h2>
                </div>
                <div class="card-body">
                    <p>O Sistema de Gestão Financeira permite que você gerencie todos os aspectos financeiros do seu negócio, incluindo contas a pagar, contas pagas e despesas mensais.</p>
                    
                    <h3 class="h5">Gerenciamento de Contas a Pagar:</h3>
                    <p>Acompanhe todas as contas a pagar e monitore seus vencimentos:</p>
                    <ol>
                        <li>Acesse <strong>Financial > Accounts Payable</strong> para visualizar todas as contas pendentes</li>
                        <li>Clique em <strong>Add New</strong> para registrar uma nova conta a pagar com:
                            <ul>
                                <li>Fornecedor</li>
                                <li>Descrição</li>
                                <li>Valor</li>
                                <li>Data de emissão</li>
                                <li>Data de vencimento</li>
                                <li>Método de pagamento</li>
                                <li>Status (Pendente, Pago, Vencido)</li>
                                <li>Projeto associado (opcional)</li>
                            </ul>
                        </li>
                        <li>Na página principal, você pode ver:
                            <ul>
                                <li>Total de contas pendentes</li>
                                <li>Contas com vencimento próximo em destaque</li>
                                <li>Status de cada conta com indicadores visuais</li>
                            </ul>
                        </li>
                        <li>Use os botões <strong>Edit</strong> ou <strong>Delete</strong> para gerenciar cada conta</li>
                    </ol>

                    <h3 class="h5">Registro de Contas Pagas:</h3>
                    <p>Mantenha um registro de todos os pagamentos efetuados:</p>
                    <ol>
                        <li>Acesse <strong>Financial > Paid Accounts</strong> para visualizar todos os pagamentos</li>
                        <li>Clique em <strong>Add New</strong> para registrar um novo pagamento com:
                            <ul>
                                <li>Fornecedor</li>
                                <li>Valor pago</li>
                                <li>Data de pagamento</li>
                                <li>Método de pagamento</li>
                                <li>Número do cheque (se aplicável)</li>
                                <li>Informações bancárias (se aplicável)</li>
                            </ul>
                        </li>
                        <li>A página principal mostra:
                            <ul>
                                <li>Total de pagamentos por período</li>
                                <li>Divisão por método de pagamento</li>
                            </ul>
                        </li>
                    </ol>

                    <h3 class="h5">Controle de Despesas Mensais:</h3>
                    <p>Acompanhe e categorize todas as despesas recorrentes do negócio:</p>
                    <ol>
                        <li>Acesse <strong>Financial > Monthly Expenses</strong> para ver todas as despesas</li>
                        <li>Clique em <strong>Add New</strong> para registrar uma nova despesa com:
                            <ul>
                                <li>Descrição</li>
                                <li>Valor</li>
                                <li>Data da despesa</li>
                                <li>Categoria (Aluguel, Serviços, Seguro, Impostos, etc.)</li>
                                <li>Método de pagamento</li>
                                <li>Projeto associado (opcional)</li>
                            </ul>
                        </li>
                        <li>A página principal mostra:
                            <ul>
                                <li>Total de despesas por mês</li>
                                <li>Distribuição por categoria</li>
                                <li>Comparação mês a mês</li>
                            </ul>
                        </li>
                    </ol>

                    <h3 class="h5">Relatórios Financeiros:</h3>
                    <p>Acesse relatórios visuais completos sobre a saúde financeira do negócio:</p>
                    <ol>
                        <li>Acesse <strong>Financial > Financial Reports</strong> para visualizar o painel de análise</li>
                        <li>O painel inclui:
                            <ul>
                                <li>Cards de resumo com totais de contas a pagar, contas pagas e despesas mensais</li>
                                <li>Gráfico de status de pagamento (pendente, pago, vencido)</li>
                                <li>Gráfico de pizza mostrando despesas por categoria</li>
                                <li>Gráfico de fluxo de caixa comparando receitas e despesas ao longo do tempo</li>
                                <li>Lista de próximos pagamentos com alertas de vencimento</li>
                            </ul>
                        </li>
                        <li>Todos os gráficos são interativos e atualizam em tempo real</li>
                    </ol>

                    <div class="alert alert-success">
                        <i class="fas fa-lightbulb"></i> <strong>Dica:</strong> Use os relatórios financeiros para identificar padrões de gastos, prevenir problemas de fluxo de caixa e tomar decisões mais informadas para o seu negócio.
                    </div>
                </div>
            </div>

            <div class="card mb-4" id="relatorios">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Relatórios</h2>
                </div>
                <div class="card-body">
                    <h3 class="h5">Relatório de Folha de Pagamento:</h3>
                    <p>O relatório de folha de pagamento fornece uma visão completa de todos os pagamentos feitos aos funcionários.</p>
                    <ol>
                        <li>Acesse <strong>Payroll</strong> → <strong>Payroll Report</strong></li>
                        <li>Utilize o menu dropdown para filtrar por funcionário específico</li>
                        <li>Visualize totais por método de pagamento e funcionário</li>
                    </ol>
                    
                    <h3 class="h5">Análise de Lucratividade de Projetos:</h3>
                    <p>Cada página de detalhes do projeto inclui uma análise completa de lucratividade:</p>
                    <ol>
                        <li>Acesse <strong>Projects</strong> → <strong>All Projects</strong> e clique em um projeto</li>
                        <li>A seção de análise de lucratividade mostra:
                            <ul>
                                <li>Valor faturado total</li>
                                <li>Custos de materiais</li>
                                <li>Custos de mão de obra (baseados na folha de ponto)</li>
                                <li>Outras despesas</li>
                                <li>Lucro bruto e margem de lucro</li>
                                <li>Lucro líquido (considerando apenas valores efetivamente recebidos)</li>
                            </ul>
                        </li>
                    </ol>
                    
                    <h3 class="h5">Exportação de Relatórios:</h3>
                    <p>Diversos relatórios podem ser exportados em diferentes formatos:</p>
                    <ol>
                        <li>Navegue até o relatório desejado</li>
                        <li>Localize o botão de exportação na parte superior da página</li>
                        <li>Selecione o formato desejado:
                            <ul>
                                <li>Excel (.xlsx)</li>
                                <li>PDF</li>
                                <li>CSV</li>
                            </ul>
                        </li>
                        <li>O arquivo será gerado e baixado automaticamente</li>
                    </ol>
                </div>
            </div>
            
            <div class="card mb-4" id="administracao">
                <div class="card-header bg-dark text-white">
                    <h2 class="card-title h4 mb-0">Administração do Sistema</h2>
                </div>
                <div class="card-body">
                    <p>Esta seção contém funcionalidades administrativas para gerenciar o sistema ERP.</p>
                    
                    <h3 class="h5 mb-3">Backup e Restauração do Banco de Dados</h3>
                    <p>O sistema permite fazer backup e restaurar o banco de dados diretamente do painel. Esta funcionalidade é crucial para garantir a segurança dos seus dados e permitir a recuperação em caso de problemas.</p>
                    
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card border-primary h-100">
                                <div class="card-header bg-primary text-white">
                                    <h4 class="h6 mb-0">Backup do Banco de Dados</h4>
                                </div>
                                <div class="card-body">
                                    <p>Realizar backups regulares é essencial para proteger seus dados contra perda acidental.</p>
                                    
                                    <h5 class="h6 mt-3">Como fazer um backup:</h5>
                                    <ol>
                                        <li>Navegue até o <strong>Dashboard</strong> do sistema</li>
                                        <li>Role até o final da página onde encontrará a seção "Database Management"</li>
                                        <li>No card "Backup Database", clique no botão <strong>"Download Backup"</strong></li>
                                        <li>Um arquivo com formato .db será baixado para seu computador</li>
                                        <li>Este arquivo contém uma cópia completa do banco de dados no momento do backup</li>
                                        <li>Armazene este arquivo em local seguro (preferencialmente em múltiplos locais)</li>
                                    </ol>
                                    
                                    <h5 class="h6 mt-3">Melhores práticas:</h5>
                                    <ul>
                                        <li>Faça backups regularmente (semanalmente ou mensalmente)</li>
                                        <li>Sempre faça um backup antes de realizar mudanças significativas nos dados</li>
                                        <li>Mantenha múltiplas versões de backup (não sobrescreva backups antigos)</li>
                                        <li>Armazene backups em locais diferentes do servidor principal</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card border-warning h-100">
                                <div class="card-header bg-warning text-dark">
                                    <h4 class="h6 mb-0">Restauração do Banco de Dados</h4>
                                </div>
                                <div class="card-body">
                                    <p>Em caso de problemas com o banco de dados, você pode restaurá-lo a partir de um backup anterior.</p>
                                    
                                    <div class="alert alert-danger">
                                        <strong>Atenção!</strong> A restauração substituirá TODOS os dados atuais pelos dados do backup. Esta ação não pode ser desfeita.
                                    </div>
                                    
                                    <h5 class="h6 mt-3">Como restaurar um backup:</h5>
                                    <ol>
                                        <li>Navegue até o <strong>Dashboard</strong> do sistema</li>
                                        <li>Role até o final da página onde encontrará a seção "Database Management"</li>
                                        <li>No card "Restore Database", clique em <strong>"Selecionar arquivo"</strong></li>
                                        <li>Localize e selecione o arquivo de backup (.db) que deseja restaurar</li>
                                        <li>Clique no botão <strong>"Restore Database"</strong></li>
                                        <li>Confirme a ação quando solicitado</li>
                                        <li>Aguarde a conclusão do processo de restauração</li>
                                        <li>Você será redirecionado para a página inicial após a conclusão</li>
                                    </ol>
                                    
                                    <h5 class="h6 mt-3">Observações importantes:</h5>
                                    <ul>
                                        <li>O sistema cria automaticamente um backup de segurança do banco de dados atual antes de realizar a restauração</li>
                                        <li>Recomendamos realizar operações de restauração fora do horário comercial</li>
                                        <li>Todos os usuários devem estar desconectados do sistema durante a restauração</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="alert alert-info">
                        <h5 class="h6">Dica para Administradores</h5>
                        <p class="mb-0">Você pode utilizar os backups para transferir dados entre diferentes instalações do sistema ou para criar ambientes de teste com dados reais.</p>
                    </div>
                </div>
            </div>
            
            <div class="card mb-4" id="implementacoesfuturas">
                <div class="card-header bg-primary text-white">
                    <h2 class="card-title h4 mb-0">Implementações Futuras</h2>
                </div>
                <div class="card-body">
                    <p>O Sistema ERP Mauricio PDQ está em constante evolução. As seguintes funcionalidades estão planejadas para implementação futura:</p>
                    
                    <h3 class="h5">1. Portal do Cliente</h3>
                    <ul>
                        <li>Acesso limitado para clientes acompanharem o status de seus projetos</li>
                        <li>Visualização de faturas e opção de pagamento online</li>
                        <li>Compartilhamento de documentos relacionados aos projetos</li>
                        <li>Comunicação direta com a equipe do projeto</li>
                    </ul>
                    
                    <h3 class="h5">2. Aplicativo Móvel para Registro de Tempo</h3>
                    <ul>
                        <li>Permitirá que funcionários registrem horas trabalhadas diretamente em seus smartphones</li>
                        <li>Recursos de geolocalização para verificar a presença no local de trabalho</li>
                        <li>Captura de fotos do progresso do trabalho</li>
                        <li>Aprovações de horas trabalhadas em tempo real</li>
                    </ul>
                    
                    <h3 class="h5">3. Sistema de Orçamentos Avançado</h3>
                    <ul>
                        <li>Criação de orçamentos detalhados com itens de linha para materiais e mão de obra</li>
                        <li>Comparação de orçamento vs. custos reais durante a execução do projeto</li>
                        <li>Geração automática de orçamentos baseados em projetos similares anteriores</li>
                        <li>Integração com fornecedores para cotações automáticas de materiais</li>
                    </ul>
                    
                    <h3 class="h5">4. Dashboard Personalizado</h3>
                    <ul>
                        <li>Widgets configuráveis para cada tipo de usuário</li>
                        <li>Gráficos e indicadores personalizáveis</li>
                        <li>Visualização de tendências e comparativos</li>
                        <li>Alertas e notificações personalizados</li>
                    </ul>
                    
                    <h3 class="h5">5. Integração com Sistemas Contábeis</h3>
                    <ul>
                        <li>Exportação automatizada de dados para sistemas contábeis populares</li>
                        <li>Sincronização bidirecional de informações financeiras</li>
                        <li>Geração de relatórios fiscais</li>
                        <li>Controle de impostos e obrigações fiscais</li>
                    </ul>
                    
                    <div class="alert alert-warning mt-4">
                        <strong>Nota:</strong> As funcionalidades listadas acima estão em desenvolvimento e serão implementadas gradualmente em versões futuras do sistema. As datas de lançamento serão comunicadas através de notificações no sistema.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
